.\" Generated by Mmark Markdown Processer - mmark.miek.nl
.TH "CFGROUP" 1 "September 2024" "User Commands" "CFEngine"

.SH "CFGROUP"
.SH "NAME"
.PP
cfgroup - list or query CFEngine configuration

.SH "SYNOPSIS"
.PP
cfgroup  \fI[OPTION]\fP... \fI[GROUP]\fP...

.SH "DESCRIPTION"
.PP
Cfgroup will list or query CFengine configuration details. Note this is an internal tool that may
or may not be of use to you.

.PP
Cfgroup lists hostnames that are part of specified groups. Data sources are group.cf,
functionals.cf and  promises.cf. If \fIGROUP\fPs are given on the command line the members
of those groups are printed.

.PP
For finding those files the following algorithm is used:

.IP \(bu 4
if files are piped into cgroup's standard input, that data is used.
.IP \(bu 4
if the cwd is inside a git repository and the basename is called 'cfengine' it will use the files from
the current git repository.
.IP \(bu 4
if the cwd is not in a cfengine git repository \fBcfgroup\fP will try /var/cfengine.


.PP
Options are:

.TP
\fB\fC-l\fR
print all groups to standard output.
.TP
\fB\fC-r\fR \fIHOST\fP
reverse lookup, show the classes for this specific host.
.TP
\fB\fC-x\fR \fIGROUP\fP
list the hostnames from all specified \fIGROUP\fPs that are \fInot also\fP in this specific \fIGROUP\fP. Mostly
used to filter out "IsInactive" hosts: \fB\fCcfgroup -x IsInactive IsWebserver\fR as an example.
.TP
\fB\fC-o\fR
list the hostnames that only appear \fIonce\fP in the specified \fIGROUP\fPs.
.TP
\fB\fC-n\fR
list the hostnames that only appear \fImore than once\fP in the specified \fIGROUP\fPs, i.e. the
opposite of \fB\fC-o\fR.
.TP
\fB\fC-d\fR
enable debug logging.
.TP
\fB\fC-v\fR
show version.


.SH "EXAMPLES"
.PP
Feed cfgroup multiple files on standard input, and list the defined classes:

.PP
.RS

.nf
cat /home/miek/src/gitlab.cncz.nl/sys/cfengine/masterfiles/adm/{groups.cf,functionals.cf} | ./cfgroup \-l

.fi
.RE

.SH "SEE ALSO"
.PP
See the project's README for more details. Development takes place on GitHub
\[la]https://github.com/miekg/cf\[ra].

.SH "AUTHOR"
.PP
Miek Gieben miek@miek.nl
\[la]mailto:miek@miek.nl\[ra].

